import{r,b as V,d as k,c as d,a as e,w as i,e as v,v as c,t as s,F as g,f as D,o as p}from"./index-CXwEQRRF.js";import{a as b}from"./index-NIGUFBhG.js";const N=["onUpdate:modelValue"],P=["onClick"],B={__name:"ReviewView",setup(T){const a=r(""),u=r(0),o=r([]),f=()=>{console.log("add Product:",a.value,u.value),o.value.push({id:o.value.length+1,name:a.value,price:u.value}),a.value="",u.value=0},y=n=>{console.log("delete Product:",n);const l=o.value.findIndex(t=>t.id===n);o.value.splice(l,1)},h=V(()=>{console.log("sum:",o.value);let n=0;return o.value.forEach(l=>{n+=l.price}),n});k(()=>{console.log("mounted"),setTimeout(()=>{o.value=[{id:1,name:"珍珠奶茶",price:50},{id:2,name:"冬瓜檸檬",price:45},{id:3,name:"翡翠檸檬",price:55},{id:4,name:"四季春茶",price:45},{id:5,name:"阿薩姆奶茶",price:50},{id:6,name:"檸檬冰茶",price:45},{id:7,name:"芒果綠茶",price:55},{id:8,name:"抹茶拿鐵",price:60}]},5e3)}),console.log("1"),setTimeout(()=>{console.log("2")},0),console.log("3");async function x(){console.log("getData");const n=await b.get("https://randomuser.me/api/");console.log("test1"),console.log("response:",n)}x();function w(){console.log("getData2");const n=b.get("https://randomuser.me/api/");console.log("test2"),console.log("response2:",n)}return w(),(n,l)=>(p(),d(g,null,[l[3]||(l[3]=e("h1",null,"複習",-1)),e("div",null,[i(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=t=>a.value=t)},null,512),[[c,a.value]]),v(" "+s(a.value)+" ",1),i(e("input",{type:"number","onUpdate:modelValue":l[1]||(l[1]=t=>u.value=t)},null,512),[[c,u.value]]),v(" "+s(u.value)+" ",1),e("button",{type:"button",onClick:f},"新增到資料集裡面")]),e("table",null,[l[2]||(l[2]=e("thead",null,[e("tr",null,[e("th",null,"標題"),e("th",null,"價格"),e("th",null,"調整價格"),e("th",null,"刪除")])],-1)),e("tbody",null,[(p(!0),d(g,null,D(o.value,t=>(p(),d("tr",{key:t.id},[e("td",null,s(t.name),1),e("td",null,s(t.price),1),e("td",null,[i(e("input",{type:"number","onUpdate:modelValue":m=>t.price=m},null,8,N),[[c,t.price]])]),e("td",null,[e("button",{type:"button",onClick:m=>y(t.id)},"刪除",8,P)])]))),128))])]),e("h2",null,"總價: "+s(h.value),1)],64))}};export{B as default};
